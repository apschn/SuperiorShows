{% extends 'base.html' %}

{% block content %}
    <h1 class="pageTitle">{% block title %} Manage Performances {% endblock %}</h1>

    <div class ="tableContents">
            <div class ="tableContents">
                <div class="table-scroll">
                    <table class="entity-table">
                        <tr>
                            <th>ID</th>
                            <th>Event</th>
                            <th>Performer</th>
                            <th></th>
                        </tr>
                        {% for i in performances %}    
                        <tr class="entity-table--row">
                            <td class="entity-table--information">{{i['events_has_performers_id']}}</td>
                            <td class="entity-table--information">{{i['event_name']}}</td>
                            <td class="entity-table--information">{{i['performer_name']}}</td>
                            <td class="entity-table--icons-column">
                                <a href="delete_performance/{{i.events_has_performers_id}}?event={{i['event_name']}}&performer={{i['performer_name']}}">
                                    <button type="button" class="icon-button">
                                        <img id="deleteEntity" class ="entity-table--icon" alt="delete" src="{{url_for('static', filename='icon-delete.png')}}">
                                    </button>
                                </a>
                                <a href=update_performance/{{i.events_has_performers_id}}>
                                    <button type="button" class="icon-button">
                                        <img id="editEntity" class ="entity-table--icon" alt="edit" src="{{url_for('static', filename='icon-edit.png')}}">
                                    </button>
                                </a>
                            </td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
    </div> 
    <div class="key">
        <p class="key-item"><img id="editEntity" class ="entity-table--icon" alt="edit" src="{{url_for('static', filename='icon-edit.png')}}">  Edit Performance
        <img id="deleteEntity" class ="entity-table--icon" alt="delete" src="{{url_for('static', filename='icon-delete.png')}}">  Delete Performance</p>
    </div> 
    <div class ="addAttributes">
        <h2 class="addFormTitle">Add Performance</h2>
        <form class="addForm" action="/performances" method="POST">
            <div class="form-field--container">
                <div class="form-field-float">
                    <label
                    class="form-field--label"
                    for="performance-event">Event: *</label><br>
                    <select
                    class="form-field-entry"
                    type="text"
                    id="performance-event"
                    name="performance-event"
                    required>
                    <option 
                    hidden 
                    disabled 
                    selected value>Select Event</option>
                    {% for i in events %}
                        <option value="{{i['event_id']}}">{{i['event_name']}}</option>
                    {% endfor %}
                    </select>    
                </div><br>
                <div class="form-field-float">
                    <label
                    class="form-field--label"
                    for="performance-performer">Performer: *</label><br>
                    <select
                    class="form-field-entry"
                    type="text"
                    id="performance-performer"
                    name="performance-performer"
                    required>
                    <option 
                    hidden 
                    disabled 
                    selected value>Select Performer</option>
                    {% for i in performers %}
                        <option value="{{i['performer_id']}}">{{i['performer_name']}}</option>
                    {% endfor %}
                    </select>    
                </div><br>
            </div>
            <div class="form-field">
                    <input  
                    class="submit-button" 
                    type="submit"
                    value="Add"> 
            </div>
        </form>
    </div>    
{% endblock %}